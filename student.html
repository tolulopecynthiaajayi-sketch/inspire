<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Portal | Alora Group</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Firebase SDK (Compat) -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="./js/firebaseConfig.js"></script>

    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Open+Sans:wght@400;600&display=swap"
        rel="stylesheet">
    <style>
        body {
            font-family: 'Open Sans', sans-serif;
            background-color: #F8FAFC;
        }

        h1,
        h2,
        h3,
        h4,
        .nav-link {
            font-family: 'Montserrat', sans-serif;
        }

        .bg-navy-primary {
            background-color: #1E3A8A;
        }

        .bg-navy-dark {
            background-color: #0F172A;
        }

        .bg-navy-light {
            background-color: #EFF6FF;
        }

        .text-navy-primary {
            color: #1E3A8A;
        }

        .text-peach-accent {
            color: #D9654C;
        }

        .bg-peach-accent {
            background-color: #D9654C;
        }

        .border-peach-accent {
            border-color: #D9654C;
        }
    </style>
</head>

<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        const Icon = ({ name, size = 20, className = "" }) => {
            const iconName = name.charAt(0).toUpperCase() + name.slice(1);
            if (!window.lucide || !window.lucide.icons || !window.lucide.icons[iconName]) return null;
            const iconDef = window.lucide.icons[iconName];
            return (
                <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                    {iconDef.map((child, index) => React.createElement(child[0], { ...child[1], key: index }))}
                </svg>
            );
        };

        const NavBar = () => (
            <nav className="bg-white shadow-md sticky top-0 z-50">
                <div className="max-w-7xl mx-auto px-4">
                    <div className="flex justify-between h-20 items-center">
                        <div className="flex items-center gap-3">
                            <a href="index.html"><img src="logo.png" alt="Alora" className="h-16 w-auto object-contain" /></a>
                            <span className="font-bold text-navy-primary text-xl tracking-tight hidden md:block">STUDENT PORTAL</span>
                        </div>



                        <div className="flex items-center gap-4">
                            <div className="flex items-center gap-2 text-sm font-semibold text-gray-600">
                                <div className="w-8 h-8 rounded-full bg-peach-accent text-white flex items-center justify-center font-bold">JD</div>
                                <span className="hidden md:inline">John Doe</span>
                            </div>
                            <button className="text-gray-400 hover:text-navy-primary"><Icon name="bell" size={20} /></button>
                        </div>
                    </div>
                </div>
            </nav>
        );

        const Dashboard = () => {
            const [activeTab, setActiveTab] = useState('intake');
            // Mock state for documents
            const [docs, setDocs] = useState([
                { id: 1, name: 'High School Transcript', type: 'standard', status: 'uploaded' },
                { id: 2, name: 'Passport', type: 'standard', status: 'pending' },
            ]);
            // Mock state for custom upload
            const [newDocName, setNewDocName] = useState('');

            // New state for Enrollment Status (Internal vs External)
            const [enrollmentStatus, setEnrollmentStatus] = useState('prospective'); // 'prospective' or 'enrolled'

            // New state for Services Needed (Modular Form)
            const [services, setServices] = useState({
                university: true,
                housing: true,
                jobs: true,
                mentorship: true
            });

            const toggleService = (service) => {
                setServices(prev => ({ ...prev, [service]: !prev[service] }));
            };

            const handleCustomUpload = () => {
                if (!newDocName) return;
                const newDoc = { id: Date.now(), name: newDocName, type: 'custom', status: 'uploaded' };
                setDocs([...docs, newDoc]);
                setNewDocName('');
            };

            const handleRename = (id, newName) => {
                setDocs(docs.map(d => d.id === id ? { ...d, name: newName } : d));
            };

            // Unified Applications State
            const [allApplications] = useState([
                {
                    id: 1,
                    type: 'university',
                    title: 'HEC Paris - MBA',
                    subtitle: 'Master in Business Administration',
                    status: 'submitted',
                    statusLabel: 'Submitted',
                    date: 'Dec 12, 2025',
                    icon: 'graduationCap',
                    color: 'text-navy-primary',
                    bgColor: 'bg-navy-light',
                    details: 'Your counselor sent the file to the university.'
                },
                {
                    id: 2,
                    type: 'housing',
                    title: 'Studio Apartment - Lyon 7e',
                    subtitle: '12 Rue de l\'Université',
                    status: 'review',
                    statusLabel: 'Doc Review',
                    date: 'Jan 02, 2026',
                    icon: 'home',
                    color: 'text-peach-accent',
                    bgColor: 'bg-orange-50',
                    details: 'Landlord is reviewing your guarantor documents.'
                },
                {
                    id: 3,
                    type: 'job',
                    title: 'Marketing Intern - L\'Oréal',
                    subtitle: '6-Month Internship • Paris',
                    status: 'interview',
                    statusLabel: 'Interview',
                    date: 'Jan 15, 2026',
                    icon: 'briefcase',
                    color: 'text-blue-600',
                    bgColor: 'bg-blue-50',
                    details: 'Interview scheduled with HR Manager.'
                }
            ]);

            return (
                <div className="max-w-7xl mx-auto px-4 py-8">
                    {/* Tabs */}
                    <div className="flex overflow-x-auto gap-2 border-b border-gray-200 mb-8">
                        {[
                            { id: 'intake', label: 'Student Profile' },
                            { id: 'jobs', label: 'Student Jobs' },
                            { id: 'mentorship', label: 'Mentorship' },
                            { id: 'applications', label: 'My Applications' },
                            { id: 'documents', label: 'Document Vault' },
                            { id: 'housing', label: 'Find Housing' }
                        ].map(tab => (
                            <button
                                key={tab.id}
                                onClick={() => setActiveTab(tab.id)}
                                className={`px-6 py-3 font-bold text-sm uppercase tracking-wide whitespace-nowrap transition-colors border-b-2 ${activeTab === tab.id ? 'border-peach-accent text-navy-primary' : 'border-transparent text-gray-500 hover:text-gray-700'}`}
                            >
                                {tab.label}
                            </button>
                        ))}
                    </div>

                    {/* Content */}
                    <div className="min-h-[500px]">

                        {/* 1. STUDENT INTAKE (Replaces School Search) */}
                        {activeTab === 'intake' && (
                            <div className="animate-fade-in max-w-4xl mx-auto">
                                <div className="bg-white p-8 rounded-lg shadow-sm border border-gray-200">
                                    <div className="mb-8 border-b border-gray-100 pb-4">
                                        <h2 className="text-2xl font-bold text-navy-primary mb-2">Master Profile</h2>
                                        <p className="text-gray-500 text-sm">One profile to power your entire journey: Universities, Housing, Jobs, and Mentorship.</p>
                                    </div>

                                    <form className="space-y-8" onSubmit={(e) => e.preventDefault()}>
                                        {/* 0. Enrollment Status Toggle */}
                                        <div className="bg-blue-50 p-4 rounded-lg border border-blue-100 flex flex-col md:flex-row gap-4 items-center justify-between">
                                            <div>
                                                <h4 className="font-bold text-navy-primary text-sm">Where are you in your journey?</h4>
                                                <p className="text-xs text-blue-700">Select the option that best describes you.</p>
                                            </div>
                                            <div className="flex bg-white rounded-full p-1 border border-blue-200 shadow-sm">
                                                <button
                                                    onClick={() => setEnrollmentStatus('prospective')}
                                                    className={`px-4 py-2 rounded-full text-xs font-bold transition ${enrollmentStatus === 'prospective' ? 'bg-navy-primary text-white shadow' : 'text-gray-500 hover:text-navy-primary'}`}
                                                >
                                                    Applying to School
                                                </button>
                                                <button
                                                    onClick={() => setEnrollmentStatus('enrolled')}
                                                    className={`px-4 py-2 rounded-full text-xs font-bold transition ${enrollmentStatus === 'enrolled' ? 'bg-navy-primary text-white shadow' : 'text-gray-500 hover:text-navy-primary'}`}
                                                >
                                                    Already Enrolled
                                                </button>
                                            </div>
                                        </div>

                                        {/* 0.5 Service Selection */}
                                        <div>
                                            <h3 className="font-bold text-gray-800 mb-3 text-sm uppercase tracking-wide">Select Services You Need</h3>
                                            <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                                                <div
                                                    onClick={() => toggleService('university')}
                                                    className={`cursor-pointer p-4 rounded-lg border text-center transition ${services.university ? 'bg-navy-primary text-white border-navy-primary' : 'bg-white text-gray-500 border-gray-200 hover:border-gray-300'}`}
                                                >
                                                    <div className="mb-2"><Icon name="graduationCap" size={20} className="mx-auto" /></div>
                                                    <div className="text-xs font-bold">University</div>
                                                </div>
                                                <div
                                                    onClick={() => toggleService('housing')}
                                                    className={`cursor-pointer p-4 rounded-lg border text-center transition ${services.housing ? 'bg-peach-accent text-white border-peach-accent' : 'bg-white text-gray-500 border-gray-200 hover:border-gray-300'}`}
                                                >
                                                    <div className="mb-2"><Icon name="home" size={20} className="mx-auto" /></div>
                                                    <div className="text-xs font-bold">Housing</div>
                                                </div>
                                                <div
                                                    onClick={() => toggleService('jobs')}
                                                    className={`cursor-pointer p-4 rounded-lg border text-center transition ${services.jobs ? 'bg-blue-600 text-white border-blue-600' : 'bg-white text-gray-500 border-gray-200 hover:border-gray-300'}`}
                                                >
                                                    <div className="mb-2"><Icon name="briefcase" size={20} className="mx-auto" /></div>
                                                    <div className="text-xs font-bold">Jobs</div>
                                                </div>
                                                <div
                                                    onClick={() => toggleService('mentorship')}
                                                    className={`cursor-pointer p-4 rounded-lg border text-center transition ${services.mentorship ? 'bg-purple-600 text-white border-purple-600' : 'bg-white text-gray-500 border-gray-200 hover:border-gray-300'}`}
                                                >
                                                    <div className="mb-2"><Icon name="users" size={20} className="mx-auto" /></div>
                                                    <div className="text-xs font-bold">Mentorship</div>
                                                </div>
                                            </div>
                                        </div>

                                        {/* Personal & Academic */}
                                        <div className="grid md:grid-cols-2 gap-6">
                                            <div>
                                                <label className="block text-xs font-bold text-gray-500 uppercase mb-2">Full Name</label>
                                                <input type="text" defaultValue="John Doe" className="w-full p-3 border rounded bg-gray-50 text-gray-900 border-gray-200 focus:border-peach-accent focus:ring-1 focus:ring-peach-accent outline-none transition" />
                                            </div>
                                            <div>
                                                <label className="block text-xs font-bold text-gray-500 uppercase mb-2">Current Degree/Qualification</label>
                                                <input type="text" placeholder="e.g. High School Diploma" className="w-full p-3 border rounded bg-gray-50 text-gray-900 border-gray-200 focus:border-peach-accent focus:ring-1 focus:ring-peach-accent outline-none transition" />
                                            </div>
                                        </div>

                                        {/* 1. Study Information (Conditional) */}
                                        {services.university && (
                                            <div className="animate-fade-in border-t border-gray-100 pt-6">
                                                <h3 className="font-bold text-gray-800 mb-4 flex items-center gap-2">
                                                    <div className="w-6 h-6 rounded-full bg-navy-primary text-white flex items-center justify-center text-xs">A</div>
                                                    {enrollmentStatus === 'prospective' ? 'Study Preferences' : 'Current Enrollment'}
                                                </h3>

                                                {enrollmentStatus === 'prospective' ? (
                                                    // PROSPECTIVE FLOW
                                                    <div className="animate-fade-in">
                                                        <div className="grid md:grid-cols-2 gap-6 mb-4">
                                                            <div>
                                                                <label className="block text-xs font-bold text-gray-500 uppercase mb-2">Level of Study</label>
                                                                <select className="w-full p-3 border rounded bg-white text-gray-700 border-gray-200 focus:border-peach-accent outline-none">
                                                                    <option>Bachelor's Degree</option>
                                                                    <option>Master's Degree</option>
                                                                    <option>PhD / Doctorate</option>
                                                                    <option>Language Course</option>
                                                                </select>
                                                            </div>
                                                            <div>
                                                                <label className="block text-xs font-bold text-gray-500 uppercase mb-2">Preferred City/Region</label>
                                                                <input type="text" placeholder="e.g. Paris, Lyon, Bordeaux" className="w-full p-3 border rounded bg-white text-gray-900 border-gray-200 focus:border-peach-accent outline-none" />
                                                            </div>
                                                        </div>
                                                        <label className="block text-xs font-bold text-gray-500 uppercase mb-2">Top 3 Courses you would like to study</label>
                                                        <div className="space-y-3">
                                                            <input type="text" placeholder="Preference #1 (e.g. International Business)" className="w-full p-3 border rounded bg-white border-gray-200 focus:border-peach-accent outline-none" />
                                                            <input type="text" placeholder="Preference #2 (e.g. Marketing)" className="w-full p-3 border rounded bg-white border-gray-200 focus:border-peach-accent outline-none" />
                                                            <input type="text" placeholder="Preference #3 (e.g. Economics)" className="w-full p-3 border rounded bg-white border-gray-200 focus:border-peach-accent outline-none" />
                                                        </div>
                                                    </div>
                                                ) : (
                                                    // ENROLLED FLOW
                                                    <div className="animate-fade-in bg-gray-50 p-6 rounded border border-gray-200">
                                                        <div className="grid md:grid-cols-2 gap-6">
                                                            <div>
                                                                <label className="block text-xs font-bold text-gray-500 uppercase mb-2">University / School Name</label>
                                                                <input type="text" placeholder="e.g. HEC Paris, Sorbonne" className="w-full p-3 border rounded bg-white border-gray-200 focus:border-peach-accent outline-none" />
                                                            </div>
                                                            <div>
                                                                <label className="block text-xs font-bold text-gray-500 uppercase mb-2">Program / Major</label>
                                                                <input type="text" placeholder="e.g. MBA Finance" className="w-full p-3 border rounded bg-white border-gray-200 focus:border-peach-accent outline-none" />
                                                            </div>
                                                            <div>
                                                                <label className="block text-xs font-bold text-gray-500 uppercase mb-2">City of Study</label>
                                                                <input type="text" placeholder="e.g. Paris" className="w-full p-3 border rounded bg-white border-gray-200 focus:border-peach-accent outline-none" />
                                                            </div>
                                                            <div>
                                                                <label className="block text-xs font-bold text-gray-500 uppercase mb-2">Start Date / Intake</label>
                                                                <input type="month" className="w-full p-3 border rounded bg-white border-gray-200 focus:border-peach-accent outline-none" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                )}
                                            </div>
                                        )}

                                        {/* Housing Preferences */}
                                        {services.housing && (
                                            <div className="pt-6 border-t border-gray-100 animate-fade-in">
                                                <h3 className="font-bold text-gray-800 mb-4 flex items-center gap-2"><div className="w-6 h-6 rounded-full bg-peach-accent text-white flex items-center justify-center text-xs">B</div> Housing Preferences</h3>
                                                <div className="grid md:grid-cols-2 gap-6 mb-4">
                                                    <div>
                                                        <label className="block text-xs font-bold text-gray-500 uppercase mb-2">Max Monthly Budget</label>
                                                        <input type="number" placeholder="e.g. 800" className="w-full p-3 border rounded bg-white text-gray-900 border-gray-200 focus:border-peach-accent outline-none" />
                                                    </div>
                                                    <div>
                                                        <label className="block text-xs font-bold text-gray-500 uppercase mb-2">Housing Type</label>
                                                        <select className="w-full p-3 border rounded bg-white text-gray-700 border-gray-200 focus:border-peach-accent outline-none">
                                                            <option>Studio (Solo)</option>
                                                            <option>Shared Apartment (Coloc)</option>
                                                            <option>Student Residence</option>
                                                            <option>Host Family</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                        )}

                                        {/* Career & Lifestyle */}
                                        {(services.jobs || services.mentorship) && (
                                            <div className="pt-6 border-t border-gray-100 animate-fade-in">
                                                <h3 className="font-bold text-gray-800 mb-4 flex items-center gap-2"><div className="w-6 h-6 rounded-full bg-peach-accent text-white flex items-center justify-center text-xs">C</div> Career & Lifestyle</h3>
                                                <div className="grid md:grid-cols-2 gap-6 mb-4">
                                                    {services.jobs && (
                                                        <div>
                                                            <label className="block text-xs font-bold text-gray-500 uppercase mb-2">Top 3 Job Skills</label>
                                                            <input type="text" placeholder="e.g. Python, Marketing, English C2" className="w-full p-3 border rounded bg-white text-gray-900 border-gray-200 focus:border-peach-accent outline-none mb-2" />
                                                        </div>
                                                    )}
                                                    {services.mentorship && (
                                                        <div>
                                                            <label className="block text-xs font-bold text-gray-500 uppercase mb-2">Hobbies & Interests</label>
                                                            <input type="text" placeholder="e.g. Cooking, Football, Cinema" className="w-full p-3 border rounded bg-white text-gray-900 border-gray-200 focus:border-peach-accent outline-none" />
                                                        </div>
                                                    )}
                                                </div>
                                            </div>
                                        )}

                                        <div className="pt-4 border-t border-gray-100">
                                            <h3 className="font-bold text-gray-800 mb-4 flex items-center gap-2"><div className="w-6 h-6 rounded-full bg-peach-accent text-white flex items-center justify-center text-xs">4</div> Personal Statement</h3>
                                            <label className="block text-xs font-bold text-gray-500 uppercase mb-2">Background Narrative</label>
                                            <p className="text-xs text-gray-400 mb-2">Tell us about your background, interests, and goals. This helps us match you for jobs, housing, and mentorship.</p>
                                            <textarea className="w-full p-4 border rounded bg-white border-gray-200 focus:border-peach-accent outline-none h-32" placeholder="I am a..."></textarea>
                                        </div>

                                        <div className="pt-4 flex justify-end">
                                            <button className="bg-navy-primary text-white font-bold py-3 px-8 rounded shadow-lg hover:bg-navy-dark transition uppercase tracking-wide">Save Profile</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        )}

                        {/* STUDENT JOBS (New Tab) */}
                        {/* STUDENT JOBS (Corporate AI Matching) */}
                        {activeTab === 'jobs' && (
                            <div className="animate-fade-in max-w-5xl mx-auto">
                                <div className="flex flex-col md:flex-row justify-between items-end mb-8 border-b border-gray-100 pb-4">
                                    <div>
                                        <h2 className="text-2xl font-bold text-navy-primary mb-2">Corporate Career Matching</h2>
                                        <p className="text-gray-500 text-sm">We connect you with internships & jobs from our <span className="font-bold text-navy-primary">Alora Talent Partners</span>.</p>
                                    </div>
                                    <div className="bg-blue-50 text-blue-800 px-4 py-2 rounded text-xs font-bold flex items-center gap-2">
                                        <Icon name="sparkles" size={16} /> System Status: Finding Best Fits...
                                    </div>
                                </div>

                                {/* AI Match Results */}
                                <div className="space-y-6">
                                    {[
                                        { title: 'Marketing Intern (Bilingual)', company: 'L\'Oréal Group', location: 'Paris (Remote Hybrid)', match: 98, tags: ['English Native', 'Social Media', 'Marketing'] },
                                        { title: 'Junior Data Analyst', company: 'TechCorp France', location: 'Lyon', match: 92, tags: ['Data Analysis', 'English B2', 'Excel'] },
                                        { title: 'Business Developer', company: 'BlaBlaCar', location: 'Paris', match: 85, tags: ['Sales', 'Communication', 'French B2'] },
                                    ].map((job, i) => (
                                        <div key={i} className="bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-lg transition relative overflow-hidden group">
                                            {/* Match Badge */}
                                            <div className="absolute top-0 right-0 bg-green-500 text-white text-xs font-bold px-3 py-1 rounded-bl-lg z-10">
                                                {job.match}% Profile Match
                                            </div>

                                            <div className="flex flex-col md:flex-row justify-between items-start gap-4">
                                                <div className="flex items-start gap-4">
                                                    <div className="w-12 h-12 bg-gray-100 rounded flex items-center justify-center font-bold text-gray-400 text-xl border border-gray-200">
                                                        {job.company.charAt(0)}
                                                    </div>
                                                    <div>
                                                        <h3 className="font-bold text-lg text-navy-primary group-hover:text-peach-accent transition">{job.title}</h3>
                                                        <p className="text-gray-600 font-semibold">{job.company}</p>
                                                        <p className="text-xs text-gray-500 flex items-center gap-1 mt-1"><Icon name="mapPin" size={12} /> {job.location}</p>
                                                    </div>
                                                </div>
                                                <div className="flex flex-col items-end gap-2 text-right">
                                                    <div className="flex gap-2">
                                                        {job.tags.map((tag, t) => (
                                                            <span key={t} className="text-[10px] bg-gray-100 text-gray-600 px-2 py-1 rounded border border-gray-200">{tag}</span>
                                                        ))}
                                                    </div>
                                                </div>
                                            </div>

                                            <div className="mt-6 flex gap-3 pt-4 border-t border-gray-50">
                                                <button className="flex-1 bg-navy-primary text-white font-bold py-2 rounded text-sm hover:bg-navy-dark transition uppercase">Apply with Profile</button>
                                                <button className="px-4 py-2 border border-gray-300 text-gray-600 font-bold rounded text-sm hover:bg-gray-50 transition">Save</button>
                                            </div>
                                        </div>
                                    ))}
                                </div>

                                <div className="mt-8 text-center bg-gray-50 p-6 rounded border border-dashed border-gray-300">
                                    <h4 className="font-bold text-gray-600 mb-2">Want more matches?</h4>
                                    <p className="text-sm text-gray-500 mb-4">Update your skill set in the Intake Form to trigger new AI recommendations.</p>
                                    <button onClick={() => setActiveTab('intake')} className="text-peach-accent font-bold text-sm hover:underline">Edit Skills Profile</button>
                                </div>
                            </div>
                        )}

                        {/* 2. MY APPLICATIONS (Unified View) */}
                        {activeTab === 'applications' && (
                            <div className="animate-fade-in space-y-6 max-w-4xl mx-auto">
                                <div className="flex justify-between items-center mb-4">
                                    <h2 className="font-bold text-navy-primary text-xl">Track All Applications</h2>
                                    <div className="flex gap-2">
                                        <span className="text-xs bg-navy-light text-navy-primary px-3 py-1 rounded-full font-bold">University</span>
                                        <span className="text-xs bg-orange-50 text-peach-accent px-3 py-1 rounded-full font-bold">Housing</span>
                                        <span className="text-xs bg-blue-50 text-blue-600 px-3 py-1 rounded-full font-bold">Jobs</span>
                                    </div>
                                </div>

                                {allApplications.map(app => (
                                    <div key={app.id} className="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition">
                                        <div className={`px-6 py-4 border-b border-gray-100 flex justify-between items-center ${app.bgColor}`}>
                                            <div className="flex items-center gap-3">
                                                <div className={`w-8 h-8 rounded-full bg-white flex items-center justify-center ${app.color} shadow-sm`}>
                                                    <Icon name={app.icon} size={16} />
                                                </div>
                                                <div>
                                                    <h3 className={`font-bold text-sm md:text-base ${app.color}`}>{app.title}</h3>
                                                    <p className="text-xs text-gray-500">{app.subtitle}</p>
                                                </div>
                                            </div>
                                            <span className={`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${app.status === 'submitted' ? 'bg-green-100 text-green-700' :
                                                app.status === 'review' ? 'bg-yellow-100 text-yellow-700' :
                                                    'bg-purple-100 text-purple-700'
                                                }`}>
                                                {app.statusLabel}
                                            </span>
                                        </div>
                                        <div className="p-6">
                                            <div className="relative">
                                                <div className="flex gap-4 items-start">
                                                    <div className="flex flex-col items-center gap-1">
                                                        <div className="w-2 h-2 rounded-full bg-gray-300"></div>
                                                        <div className="w-0.5 h-12 bg-gray-200"></div>
                                                        <div className="w-3 h-3 rounded-full bg-navy-primary ring-4 ring-blue-50"></div>
                                                    </div>
                                                    <div className="pt-1">
                                                        <h4 className="font-bold text-gray-900 text-sm">Latest Update</h4>
                                                        <p className="text-sm text-gray-600 mt-1">{app.details}</p>
                                                        <span className="text-xs text-gray-400 mt-2 block flex items-center gap-1">
                                                            <Icon name="clock" size={12} /> {app.date}
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div className="mt-6 flex justify-end">
                                                <button className="text-xs font-bold text-navy-primary hover:underline flex items-center gap-1">
                                                    View Full Timeline <Icon name="arrowRight" size={12} />
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}

                        {/* 3. DOCUMENTS (Custom Uploads & Renaming) */}
                        {activeTab === 'documents' && (
                            <div className="animate-fade-in max-w-5xl mx-auto">
                                <div className="flex flex-col md:flex-row gap-8">
                                    {/* Upload Area */}
                                    <div className="md:w-1/3">
                                        <div className="bg-blue-50 border border-blue-100 p-6 rounded-lg mb-6">
                                            <h4 className="font-bold text-blue-900 mb-2 flex items-center gap-2"><Icon name="uploadCloud" size={18} /> Add New Document</h4>
                                            <p className="text-xs text-blue-700 mb-4">Upload PDFs or Images. Max 5MB.</p>

                                            <input
                                                type="text"
                                                placeholder="Document Name (e.g. Portfolio)"
                                                className="w-full p-2 mb-3 text-sm border border-blue-200 rounded focus:ring-2 focus:ring-blue-300 outline-none"
                                                value={newDocName}
                                                onChange={(e) => setNewDocName(e.target.value)}
                                            />
                                            <button
                                                onClick={handleCustomUpload}
                                                className="w-full bg-blue-600 text-white font-bold py-2 rounded text-sm hover:bg-blue-700 transition"
                                            >
                                                Upload File
                                            </button>
                                        </div>
                                    </div>

                                    {/* File List */}
                                    <div className="md:w-2/3">
                                        <h3 className="font-bold text-gray-800 mb-4">Your Vault</h3>
                                        <div className="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
                                            {docs.map(doc => (
                                                <div key={doc.id} className="flex justify-between items-center p-4 border-b border-gray-100 last:border-0 hover:bg-gray-50 transition">
                                                    <div className="flex items-center gap-4">
                                                        <div className={`w-10 h-10 rounded flex items-center justify-center ${doc.status === 'uploaded' ? 'bg-green-100 text-green-600' : 'bg-orange-100 text-orange-600'}`}>
                                                            <Icon name={doc.type === 'standard' ? 'fileText' : 'folder'} size={20} />
                                                        </div>
                                                        <div>
                                                            {/* User can see name, in a real app we'd make this editable inline */}
                                                            <div className="font-bold text-gray-800 text-sm">{doc.name}</div>
                                                            <div className="text-xs text-gray-500 uppercase tracking-wider">{doc.type} • {doc.status}</div>
                                                        </div>
                                                    </div>
                                                    <div className="flex items-center gap-2">
                                                        <button
                                                            className="p-2 text-gray-400 hover:text-blue-600 transition"
                                                            title="Rename"
                                                            onClick={() => {
                                                                const newName = prompt("Rename document:", doc.name);
                                                                if (newName) handleRename(doc.id, newName);
                                                            }}
                                                        >
                                                            <Icon name="edit2" size={16} />
                                                        </button>
                                                        <button className="p-2 text-gray-400 hover:text-red-500 transition" title="Delete"><Icon name="trash2" size={16} /></button>
                                                    </div>
                                                </div>
                                            ))}
                                            {docs.length === 0 && <div className="p-8 text-center text-gray-400 italic">No documents uploaded yet.</div>}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* 4. HOUSING (Unchanged) */}
                        {activeTab === 'housing' && (
                            <div className="animate-fade-in">
                                {/* RENTAL PROFILE FORM (For AI Matcher) */}
                                <div className="bg-blue-50 border border-blue-200 p-6 rounded-lg mb-8">
                                    <h3 className="text-lg font-bold text-navy-primary mb-4 flex items-center gap-2"><Icon name="home" size={20} /> Smart Application Kit</h3>
                                    <p className="text-sm text-gray-600 mb-6">Our system analyzes your documents to match you with landlords who accept your profile. Upload everything relevant to increase your options.</p>

                                    <div className="grid md:grid-cols-3 gap-6 mb-6">
                                        <div>
                                            <label className="block text-xs font-bold text-gray-500 uppercase mb-2">Monthly Budget</label>
                                            <div className="relative">
                                                <span className="absolute left-3 top-3 text-gray-500">€</span>
                                                <input type="number" placeholder="800" className="w-full pl-8 p-3 border rounded bg-white outline-none focus:border-peach-accent" />
                                            </div>
                                        </div>
                                        <div>
                                            <label className="block text-xs font-bold text-gray-500 uppercase mb-2">Guarantor Status</label>
                                            <select className="w-full p-3 border rounded bg-white outline-none focus:border-peach-accent">
                                                <option>Visale (Recommended)</option>
                                                <option>Garantme</option>
                                                <option>French Guarantor</option>
                                                <option>International Guarantor</option>
                                                <option>None</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label className="block text-xs font-bold text-gray-500 uppercase mb-2">Current Location</label>
                                            <select className="w-full p-3 border rounded bg-white outline-none focus:border-peach-accent">
                                                <option>Abroad (Need Visa)</option>
                                                <option>In France (Have Visa)</option>
                                                <option>EU Citizen</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div className="bg-white p-4 rounded border border-blue-100">
                                        <div className="flex justify-between items-center mb-4">
                                            <h4 className="font-bold text-sm text-gray-800">Dossier Documents</h4>
                                            <span className="text-xs text-gray-500">Flexible Layout for Variable Requirements</span>
                                        </div>

                                        {/* Dynamic Document Grid */}
                                        <div className="grid md:grid-cols-2 gap-4">
                                            {/* Core Docs - Always Visible */}
                                            {['Passport / ID', 'Proof of Enrollment', 'Guarantor Letter', 'Bank Statement'].map((docName, i) => (
                                                <div key={i} className="flex justify-between items-center p-3 border border-gray-200 rounded hover:border-blue-300 transition bg-gray-50">
                                                    <span className="text-sm font-semibold text-gray-700">{docName}</span>
                                                    <Icon name="upload" size={16} className="text-gray-400 hover:text-blue-600 cursor-pointer" />
                                                </div>
                                            ))}

                                            {/* Flexible Slots */}
                                            <div className="col-span-2 border-t border-gray-100 pt-4 mt-2">
                                                <p className="text-xs text-blue-600 font-bold mb-3 uppercase tracking-wide">Additional / Optional Documents</p>
                                                <div className="space-y-3">
                                                    <div className="flex gap-2">
                                                        <input type="text" placeholder="Custom Document Name (e.g. Previous Rent Receipt)" className="flex-1 p-2 text-sm border border-gray-200 rounded focus:border-blue-400 outline-none" />
                                                        <button className="bg-blue-600 text-white px-4 py-2 rounded text-sm font-bold shadow hover:bg-blue-700 transition">Add</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div className="flex justify-between items-center mb-6">
                                    <h2 className="text-xl font-bold text-navy-primary">Verified Student Housing</h2>
                                    <button className="text-peach-accent font-bold text-sm flex items-center gap-1"><Icon name="filter" size={14} /> Filters</button>
                                </div>
                                <div className="grid md:grid-cols-2 gap-6">
                                    {[1, 2].map(i => (
                                        <div key={i} className="bg-white rounded-lg shadow border border-gray-100 overflow-hidden flex flex-col md:flex-row h-auto md:h-48">
                                            <div className="w-full md:w-40 bg-gray-200"></div>
                                            <div className="p-4 flex flex-col justify-between flex-1">
                                                <div>
                                                    <div className="flex justify-between items-start">
                                                        <h4 className="font-bold text-gray-900">Studio near Sorbonne</h4>
                                                        <span className="text-peach-accent font-bold">€850/mo</span>
                                                    </div>
                                                    <p className="text-xs text-gray-500 mt-1 flex items-center gap-1"><Icon name="mapPin" size={12} /> 5th Arrondissement, Paris</p>
                                                    <div className="flex gap-2 mt-3">
                                                        <span className="text-[10px] bg-green-100 text-green-700 px-2 py-0.5 rounded uppercase font-bold">Verified Landlord</span>
                                                        <span className="text-[10px] bg-blue-100 text-blue-700 px-2 py-0.5 rounded uppercase font-bold">CAF Eligible</span>
                                                    </div>
                                                </div>
                                                <button className="mt-3 w-full py-2 border border-navy-primary text-navy-primary text-xs font-bold uppercase rounded hover:bg-navy-primary hover:text-white transition">Request Visit</button>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}

                        {/* 5. JOBS */}
                        {activeTab === 'jobs' && (
                            <div className="animate-fade-in max-w-5xl mx-auto">
                                <h2 className="text-xl font-bold text-navy-primary mb-6 flex items-center gap-2"><Icon name="briefcase" /> Recommended Opportunities</h2>
                                <div className="space-y-4">
                                    {[
                                        { title: 'Marketing Intern (Bilingual)', company: 'TechCorp', type: 'Remote', salary: '€1,200/mo' },
                                        { title: 'English Tutor', company: 'Acadomia', type: 'Paris', salary: '€20/hr' },
                                        { title: 'Event Assistant', company: 'Fashion Week', type: 'Paris', salary: '€14/hr' }
                                    ].map((job, i) => (
                                        <div key={i} className="bg-white p-5 rounded-lg shadow-sm border border-gray-100 hover:border-peach-accent transition flex justify-between items-center group cursor-pointer">
                                            <div>
                                                <h4 className="font-bold text-gray-800 text-lg group-hover:text-navy-primary transition">{job.title}</h4>
                                                <p className="text-sm text-gray-500 font-bold">{job.company} • {job.type}</p>
                                            </div>
                                            <div className="text-right">
                                                <div className="text-peach-accent font-bold">{job.salary}</div>
                                                <button className="text-xs font-bold text-gray-400 uppercase mt-1 px-3 py-1 border border-gray-200 rounded group-hover:bg-navy-primary group-hover:text-white transition">Apply</button>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}

                        {/* 6. MENTORSHIP */}
                        {activeTab === 'mentorship' && (
                            <div className="animate-fade-in max-w-5xl mx-auto">
                                <h2 className="text-xl font-bold text-navy-primary mb-6 flex items-center gap-2"><Icon name="users" /> Connect with Host Families</h2>
                                <p className="text-gray-600 mb-8">Practice French and immerse yourself in the culture with verified local families.</p>

                                <div className="grid md:grid-cols-2 gap-6">
                                    {[
                                        { name: 'The Dubois Family', location: 'Lyon', interest: 'Cooking & Arts', roles: 'Retired Art Teachers' },
                                        { name: 'Sophie & Marc', location: 'Paris (11th)', interest: 'Hiking & Movies', roles: 'Young Professionals' }
                                    ].map((family, i) => (
                                        <div key={i} className="bg-white p-6 rounded-lg shadow-sm border border-gray-100 flex gap-4 hover:shadow-md transition">
                                            <div className="w-16 h-16 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center font-bold text-xl">
                                                {family.name.charAt(0)}
                                            </div>
                                            <div>
                                                <h4 className="font-bold text-gray-800 text-lg">{family.name}</h4>
                                                <p className="text-xs text-navy-primary font-bold uppercase mb-1">{family.location}</p>
                                                <p className="text-sm text-gray-500 italic">"{family.roles} who love {family.interest}."</p>
                                                <button className="mt-4 text-xs font-bold bg-purple-50 text-purple-700 px-4 py-2 rounded-full hover:bg-purple-600 hover:text-white transition">Request Connection</button>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}

                    </div>
                </div>
            );
        };

        const App = () => (
            <div>
                <NavBar />
                <Dashboard />
            </div>
        );

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>

</html>